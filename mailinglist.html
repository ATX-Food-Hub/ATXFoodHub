<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Join Mailing List</title>
  <link rel="stylesheet" href="partnerships.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script type="text/javascript">
    (function(){
      // Replace 'YOUR_PUBLIC_KEY' with your actual EmailJS public key
      emailjs.init('x2p6VxuzNBiHpLrux');
    })();
  </script>
  <style>
    /* Contact Form Styles - Matching your site aesthetic */
    .contact-form {
      background-color: rgba(105, 105, 105, 0.6);
      padding: 2.5rem;
      border-radius: 15px;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .contact-form label {
      display: block;
      color: #e4fc94;
      font-weight: bold;
      margin-bottom: 0.75rem;
      font-size: 1.1rem;
      font-family: 'Georgia', serif;
    }

    .contact-form input[type="email"] {
      width: 100%;
      padding: 1rem;
      border: 2px solid #c8e664;
      border-radius: 8px;
      font-size: 1rem;
      margin-bottom: 1.5rem;
      background-color: rgba(255, 255, 255, 0.95);
      font-family: 'Georgia', serif;
      transition: all 0.3s ease;
    }

    .contact-form input[type="email"]:focus {
      outline: none;
      border-color: #e4fc94;
      box-shadow: 0 0 12px rgba(228, 252, 148, 0.4);
      background-color: #ffffff;
    }

    .contact-form button {
      width: 100%;
      padding: 1rem;
      background-color: #e4fc94;
      color: #2f2f2f;
      font-weight: bold;
      font-size: 1.1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Georgia', serif;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .contact-form button:hover {
      background-color: #c8e664;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .contact-form button:disabled {
      background-color: #999;
      cursor: not-allowed;
      transform: none;
    }

    #responseMessage {
      text-align: center;
      font-size: 1.1rem;
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 8px;
      font-family: 'Georgia', serif;
    }

    #responseMessage.success {
      background-color: rgba(200, 230, 100, 0.2);
      color: #e4fc94;
      border: 1px solid #c8e664;
    }

    #responseMessage.error {
      background-color: rgba(255, 107, 107, 0.2);
      color: #ff6b6b;
      border: 1px solid #ff6b6b;
    }
  </style>
</head>

<body>

  <div class="panel">
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="logo">
        <img src="logozoomed.jpeg" alt="Site Logo" />
      </div>

      <button class="hamburger" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <ul class="nav-links" id="nav-menu">
        <li><a href="index.html">HOME</a></li>
        <li><a href="tutorials.html">TUTORIALS</a></li>
        <li><a href="calendar.html">CALENDAR</a></li>
        <li><a href="projects.html">PROJECTS</a></li>
        <li><a href="partnerships.html">PARTNERSHIPS</a></li>
        <li><a href="ourteam.html">OUR TEAM</a></li>
        <li><a href="mailinglist.html">MAILING LIST</a></li>
      </ul>
    </nav>

    <!-- HEADER -->
    <div class="header">
      <h1>Join the Mailing List!</h1>
      <p class="description">Enter your email below to receive our monthly newsletter for map users.</p>
    </div>

    <!-- SIMPLIFIED EMAIL FORM -->
    <div class="map-wrapper">
      <form id="emailForm" class="contact-form">
        <label for="user_email">Email Address:</label>
        <input 
          type="email" 
          id="user_email" 
          name="user_email" 
          required 
          placeholder="your.email@example.com" 
        />

        <button type="submit" id="submitBtn">Join Mailing List</button>
      </form>

      <p id="responseMessage"></p>
    </div>

    <hr />
    <footer>
      <p>Est. 2024 | All rights reserved.</p>
      <address>
        Contact us at: <a href="mailto:atxfoodhub@gmail.com">atxfoodhub@gmail.com</a>
        | Follow our Instagram at: <a href="https://www.instagram.com/atx_foodhub/">atx_foodhub</a>
      </address>
    </footer>
  </div>

  <!-- EMAILJS FORM SUBMISSION SCRIPT -->
  <script>
    document.getElementById("emailForm").addEventListener("submit", function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById("submitBtn");
      const responseMsg = document.getElementById("responseMessage");
      
      // Clear previous messages
      responseMsg.textContent = "";
      responseMsg.className = "";
      
      // Disable button and show loading
      submitBtn.disabled = true;
      submitBtn.textContent = "Sending...";

      // Send email using EmailJS
      emailjs.sendForm(
        'service_pfatk9a',  // Replace with your Service ID from EmailJS
        'template_uonbrhf', // Replace with your Template ID from EmailJS
        this
      )
      .then(function() {
        responseMsg.textContent = "✓ Success! You've been added to our mailing list.";
        responseMsg.className = "success";
        document.getElementById("emailForm").reset();
        submitBtn.disabled = false;
        submitBtn.textContent = "Join Mailing List";
      }, function(error) {
        console.error('EmailJS Error:', error);
        responseMsg.textContent = "✗ Something went wrong. Please try again or email us directly.";
        responseMsg.className = "error";
        submitBtn.disabled = false;
        submitBtn.textContent = "Join Mailing List";
      });
    });
  </script>

  <!-- NAVBAR HAMBURGER SCRIPT -->
  <script>
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');

    hamburger.addEventListener('click', () => {
      const expanded = hamburger.getAttribute('aria-expanded') === 'true' || false;
      hamburger.setAttribute('aria-expanded', !expanded);
      navLinks.classList.toggle('active');
    });
  </script>

</body>
</html>